{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///S:/ServicesDataAgriggation/serviceai-aggregation/frontend/src/components/Navbar.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport Link from 'next/link';\r\nimport { onAuthStateChanged, User } from 'firebase/auth';\r\nimport { auth } from '@/lib/firebase';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nconst Navbar = () => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [isDropdownOpen, setDropdownOpen] = useState(false);\r\n  const router = useRouter();\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\r\n      setUser(currentUser);\r\n    });\r\n    // Cleanup subscription on unmount\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setDropdownOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  const handleSignOut = async () => {\r\n    await auth.signOut();\r\n    setDropdownOpen(false);\r\n    router.push('/login');\r\n  };\r\n\r\n  const getInitials = (displayName: string | null | undefined) => {\r\n    if (!displayName) return '...';\r\n    const names = displayName.split(' ');\r\n    if (names.length > 1) {\r\n      return `${names[0][0]}${names[names.length - 1][0]}`.toUpperCase();\r\n    }\r\n    return displayName.substring(0, 2).toUpperCase();\r\n  };\r\n\r\n  return (\r\n    <nav className=\"bg-white shadow-md\">\r\n      <div className=\"container mx-auto px-6 py-4 flex justify-between items-center\">\r\n        <Link href=\"/\" className=\"text-xl font-bold text-gray-800\">\r\n          ServiceApp\r\n        </Link>\r\n        <div className=\"flex space-x-4 items-center\">\r\n          {user ? (\r\n            // If user is logged in\r\n            <div className=\"relative\" ref={dropdownRef}>\r\n              <button\r\n                onClick={() => setDropdownOpen(!isDropdownOpen)}\r\n                className=\"h-10 w-10 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold text-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n              >\r\n                {getInitials(user.displayName)}\r\n              </button>\r\n              {isDropdownOpen && (\r\n                <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-xl z-10 py-1\">\r\n                  <Link href=\"/dashboard\" onClick={() => setDropdownOpen(false)} className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\r\n                    Dashboard\r\n                  </Link>\r\n                  <Link href=\"/profile\" onClick={() => setDropdownOpen(false)} className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\r\n                    Profile\r\n                  </Link>\r\n                  <button\r\n                    onClick={handleSignOut}\r\n                    className=\"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\r\n                  >\r\n                    Sign Out\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            // If user is not logged in\r\n            <>\r\n              <Link href=\"/login\" className=\"px-4 py-2 text-gray-600 hover:text-blue-600\">\r\n                Login\r\n              </Link>\r\n              <Link href=\"/signup/user\" className=\"px-4 py-2 text-gray-600 hover:text-blue-600\">\r\n                Signup as User\r\n              </Link>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar; "],"names":[],"mappings":";;;;AACA;AACA;AACA;AAAA;;;;;;AAEA;AALA;;;;;;;AAOA,MAAM,SAAS;IACb,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,gBAAgB,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,cAAc,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAE3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc,CAAA,GAAA,wNAAA,CAAA,qBAAkB,AAAD,EAAE,MAAM,CAAC;YAC5C,QAAQ;QACV;QACA,kCAAkC;QAClC,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,uCAAuC;IACvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,qBAAqB,CAAC;YAC1B,IAAI,YAAY,OAAO,IAAI,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;gBAC9E,gBAAgB;YAClB;QACF;QACA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO;YACL,SAAS,mBAAmB,CAAC,aAAa;QAC5C;IACF,GAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,MAAM,KAAK,OAAO;QAClB,gBAAgB;QAChB,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,cAAc,CAAC;QACnB,IAAI,CAAC,aAAa,OAAO;QACzB,MAAM,QAAQ,YAAY,KAAK,CAAC;QAChC,IAAI,MAAM,MAAM,GAAG,GAAG;YACpB,OAAO,GAAG,KAAK,CAAC,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,WAAW;QAClE;QACA,OAAO,YAAY,SAAS,CAAC,GAAG,GAAG,WAAW;IAChD;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAK;oBAAI,WAAU;8BAAkC;;;;;;8BAG3D,8OAAC;oBAAI,WAAU;8BACZ,OACC,uBAAuB;kCACvB,8OAAC;wBAAI,WAAU;wBAAW,KAAK;;0CAC7B,8OAAC;gCACC,SAAS,IAAM,gBAAgB,CAAC;gCAChC,WAAU;0CAET,YAAY,KAAK,WAAW;;;;;;4BAE9B,gCACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAa,SAAS,IAAM,gBAAgB;wCAAQ,WAAU;kDAA0D;;;;;;kDAGnI,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAW,SAAS,IAAM,gBAAgB;wCAAQ,WAAU;kDAA0D;;;;;;kDAGjI,8OAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;;;;;;;;;;;;+BAOP,2BAA2B;kCAC3B;;0CACE,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAS,WAAU;0CAA8C;;;;;;0CAG5E,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAe,WAAU;0CAA8C;;;;;;;;;;;;;;;;;;;;;;;;AAShG;uCAEe","debugId":null}}]
}