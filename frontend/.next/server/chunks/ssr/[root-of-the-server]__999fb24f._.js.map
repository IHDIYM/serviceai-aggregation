{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/ihdiym/Desktop/complaints_extraction/Services/frontend/src/app/profile/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from 'react';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from '@/lib/firebase';\nimport { useRouter } from 'next/navigation';\nimport axios from \"axios\";\n\nexport default function ProfilePage() {\n  const router = useRouter();\n  const [profile, setProfile] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        try {\n          const idToken = await user.getIdToken();\n          // Call backend to get profile\n          const res = await axios.post(\"http://localhost:4000/login\", { idToken });\n          setProfile(res.data);\n        } catch (err) {\n          setProfile(null);\n        } finally {\n          setLoading(false);\n        }\n      } else {\n        // No user is signed in, redirect to login.\n        router.push('/login');\n      }\n    });\n\n    return () => unsubscribe();\n  }, [router]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <p className=\"text-lg text-gray-600\">Loading Profile...</p>\n      </div>\n    );\n  }\n\n  if (!profile) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <p className=\"text-lg text-gray-600\">Could not load profile data.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-4 sm:p-6 lg:p-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"bg-white shadow-lg rounded-xl overflow-hidden\">\n          <div className=\"p-8\">\n            <div className=\"text-center mb-8\">\n                <div className=\"h-32 w-32 rounded-full bg-gray-200 mx-auto flex items-center justify-center ring-4 ring-indigo-300\">\n                  <span className=\"text-5xl font-bold text-gray-500\">\n                    {profile.firstName?.charAt(0)}{profile.lastName?.charAt(0)}\n                  </span>\n                </div>\n                 <h1 className=\"text-4xl font-extrabold text-gray-900 mt-4\">{profile.firstName} {profile.lastName}</h1>\n                 <p className=\"text-xl font-semibold text-indigo-600\">{profile.title || profile.role}</p>\n                 <p className=\"text-md text-gray-500 mt-1\">{profile.email}</p>\n            </div>\n            \n            {profile.role === 'technician' && (\n              <>\n                <div className=\"mt-8 text-center\">\n                  <h2 className=\"text-lg font-bold text-gray-800\">Experience</h2>\n                  <p className=\"mt-2 text-gray-600 max-w-2xl mx-auto\">{profile.experience}</p>\n                </div>\n\n                <div className=\"mt-8\">\n                  <h2 className=\"text-lg font-bold text-gray-800 mb-3 text-center\">Specialties</h2>\n                  <div className=\"flex flex-wrap gap-2 justify-center\">\n                    {profile.specialties?.map((specialty: string, index: number) => (\n                      <span key={index} className=\"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full\">\n                        {specialty}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"mt-8\">\n                  <h2 className=\"text-lg font-bold text-gray-800 mb-3 text-center\">Skills</h2>\n                  <div className=\"flex flex-wrap gap-2 justify-center\">\n                    {profile.skills?.map((skill: string, index: number) => (\n                      <span key={index} className=\"bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full\">\n                        {skill}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              </>\n            )}\n\n            {profile.role === 'manager' && (\n                <div className=\"text-center\">\n                    <p className=\"text-lg font-semibold text-gray-700\">Department: {profile.department}</p>\n                </div>\n            )}\n             {profile.role === 'user' && (\n                <div className=\"text-center\">\n                    <p className=\"text-lg font-semibold text-gray-700\">Location: {profile.location}</p>\n                </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":"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","debugId":null}}]
}